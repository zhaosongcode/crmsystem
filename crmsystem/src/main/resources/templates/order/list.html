<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<script th:src="@{/js/order/list.js}"></script>
<script type="text/javascript" th:inline="javascript" xmlns:th="http://www.w3.org/1999/xhtml">
    /*<![CDATA[*/
    var order = [[${order}]]
    if(CommnUtil.notNull(order)){
        var clientName = order.clientName;
        var orderType = order.orderType;
        var orderStatus = order.orderStatus;
        if(CommnUtil.notNull(clientName)){
            $("#clientName").val(clientName);
        }else{
            $("#clientName").val("");
        }
        if(CommnUtil.notNull(orderType)){
            $("#orderType").val(orderType).trigger("change");
        }else{
            $("#orderType").val(null).trigger("change");
        }
        if(CommnUtil.notNull(orderStatus)){
            $("#orderStatus").val(orderStatus).trigger("change");
        }else{
            $("#orderStatus").val(null).trigger("change");
        }
    }
    /*]]>*/
</script>
<div class="panel-heading" style="background-color: #1bd3ff;">
    <h3 class="panel-title" style="font-size: 15px;margin-left: 10px">订单管理——<a href="javascript:void(0);" onclick="topage('order/list')">我的订单</a></h3>
</div>

<!--隐藏域，存储图标信息-->
<div style="display:none;">
</div>

<div style="margin-top: 20px" class="row p-b-10 m-l-10">
    <form id="seFrom" class="form-inline" role="form">
        <input type="hidden" name="userId" th:value="${order.userId}" />
        <div style="margin-left: 10px;float: left" class="form-group">
            <label>请输入客户名称：</label>
            <input style="width: 200px" maxlength="100" id="clientName" th:value="${order.clientName}" name="clientName" type="text" class="form-control" placeholder="客户名称">
        </div>
        <div style="float: left;margin-top: 5px;margin-left: 35px">
            <label>请选择订单类型：</label>
            <select id="orderType" name="orderType" style="width: 150px" class="form-control">
                <option th:each="tp : ${type}" th:text="${tp.dictName}" th:value="${tp.dictCode}"></option>
            </select>
        </div>
        <div style="float: left;margin-top: 5px;margin-left: 50px">
            <label>请选择订单状态：</label>
            <select id="orderStatus" name="orderStatus" style="width: 150px" class="form-control">
                <option th:each="su : ${status}" th:text="${su.dictName}" th:value="${su.dictCode}"></option>
            </select>
        </div>

        <button style="margin-left: 15px" onclick="selectByExample()" type="button" class="btn btn-success waves-effect waves-light m-l-10">查询
        </button>
        <button style="margin-left: 15px" onclick="reSetSeacrch()" type="button" class="btn btn-success waves-effect waves-light m-l-10">重置
        </button>
    </form>
</div>

<div style="margin-left: 10px;margin-bottom: 20px" class="row">
    <div class="col-md-6">
        <div class="btn-group">

            <button style="background-color: #ff5232" class="btn" onclick="batchDelete()">
                <span class="ladda-label">
                    <i class="fa fa-times" aria-hidden="true"></i>删除
                </span>
            </button>
        </div>
    </div>
    <div class="col-md-6"></div>
</div>

<div id="tableMessage" style="margin-left: 20px;margin-right: 10px;width: 1100px;display: none" class="table-responsive">
    <div class="portlet-body">
        <div class="table-toolbar">
            <div class="row">
                <div class="col-md-6">
                </div>
                <div class="col-md-6"></div>
            </div>
        </div>
        <table class="table table-striped table-bordered table-hover table-checkable order-column"
               id="table1">
            <thead>
            <tr>
                <th><label class="mt-checkbox mt-checkbox-single mt-checkbox-outline">
                    <input type="checkbox" class="group-checkable" data-set="#table1 .checkboxes"/>
                    <span></span>
                </label></th>
                <th>订单编号</th>
                <th>客户姓名</th>
                <th>订单类型</th>
                <th>订单状态</th>
                <th>创建时间</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="od:${orders}">
                <td>
                    <label style="margin-left: 8px" class="mt-checkbox mt-checkbox-single mt-checkbox-outline">
                        <input type="checkbox" class="checkboxes" name="selectedIds" th:value="${od.orderId}" />
                        <span></span>
                    </label>
                </td>
                <td th:text="${od.orderCode}">订单编号</td>
                <td th:text="${od.clientName}">客户姓名</td>
                <td>
                    <span th:if="${od.orderType eq '01'}">个人订单</span>
                    <span th:if="${od.orderType eq '02'}">企业订单</span>
                </td>
                <td>
                    <span th:if="${od.orderStatus eq '01'}">待付款</span>
                    <span th:if="${od.orderStatus eq '02'}">待处理</span>
                    <span th:if="${od.orderStatus eq '03'}">处理中</span>
                    <span th:if="${od.orderStatus eq '04'}">订单完成</span>
                    <span th:if="${od.orderStatus eq '05'}">售后处理中</span>
                </td>
                <td th:text="${od.createTime}">创建时间</td>
                <td>
                    <div  style="display: flex; align-items: center;">
                        <div>
                            <a th:onclick="editorOrder([[${od.orderId}]])" href="javascript:void(0);" class="btn btn-primary btn-sm waves-effect waves-light m-b-5">
                                <i class="fa fa-edit"></i> <span>编辑</span>
                            </a>
                            <a th:onclick="deleteOrderById([[${od.orderId}]])" href="javascript:void(0)" class="btn btn-danger btn-sm waves-effect waves-light m-b-5">
                                <i class="fa fa-trash-o"></i> <span>删除</span>
                            </a>
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<input type="hidden" id="orderIds" />

</html>